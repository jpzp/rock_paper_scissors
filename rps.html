<html>
<head>
    <meta charset="utf-8">
    <title>RPS</title>
</head>
<body>
    <button id="rock">ROCK</button>
    <button id="paper">PAPER</button>
    <button id="scissors">SCISSORS</button>

    <div>
        <ul style= "list-style: none;">
            <li id = "output">Select a button to start game</li>
            <li id = "player"> Player Score:  </li>
            <li id = "comp"> Computer Score: </li>
        </ul>
    </div>

    
    <script>
        const btn_R = document.querySelector('#rock');
        const btn_P = document.querySelector('#paper');
        const btn_S = document.querySelector('#scissors');

        btn_R.onclick = () => playRound("Rock", computerPlay());
        btn_P.onclick = () => playRound("Paper", computerPlay());
        btn_S.onclick = () => playRound("Scissors", computerPlay());

        playerScore = 0;
        compScore = 0;

        function computerPlay(){
            let selection = Math.floor(Math.random() * 3)
            switch(selection){
                case 0:
                    return "Rock";
                case 1:
                    return "Paper";
                case 2:
                    return "Scissors";
            }
        }
        
        function playRound(userPlay, compPlay){
            
            const out = document.querySelector("#output"); 
            const player = document.querySelector("#player");
            const somp = document.querySelector('#comp');
            
            if(playerScore == 5){
                if (confirm("You win! Would you like to play again?"))
                {
                    playerScore = 0;
                    compScore = 0;
                    out.textContent = "Select a button to start game";
                    player.textContent = "Player Score: " + playerScore;
                    comp.textContent = "Computer Score: " + compScore;
                    return
                }
                else{
                    out.textContent = "YOU HAVE WON! Refresh to start again"
                    return;
                }
            }
            if(compScore == 5){
                if(confirm("You lose! Would you like to play again?")){
                    playerScore = 0;
                    compScore = 0;
                    out.textContent = "Select a button to start game";
                    player.textContent = "Player Score: " + playerScore;
                    comp.textContent = "Computer Score: " + compScore;
                    return
                }
                else{
                    out.textContent = "YOU HAVE LOST! Refresh to start again"
                    return;
                }
            }

            if (userPlay == compPlay){
                out.textContent = ("Tie! You both picked " + userPlay);
                player.textContent = "Player Score: " + playerScore;
                comp.textContent = "Computer Score: " + compScore;
                return 0
            }
            else if ((userPlay == "Rock" && compPlay == "Scissors") || (userPlay == "Scissors" && compPlay == "Paper") || (userPlay == "Paper" && compPlay == "Rock")){
                out.textContent = ("You Win! " + userPlay + " beats " + compPlay);
                player.textContent = "Player Score: " + ++playerScore;
                comp.textContent = "Computer Score: " + compScore;
                return 1
            }
            else
                out.textContent = ("You Lose! " + compPlay + " beats " + userPlay);
                player.textContent = "Player Score: " + playerScore;
                comp.textContent = "Computer Score: " + ++compScore;
                return -1


        }

    </script>
</body>
</html>